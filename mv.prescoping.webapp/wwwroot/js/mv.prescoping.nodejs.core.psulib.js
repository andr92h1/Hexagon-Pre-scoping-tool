var PSULIB;(()=>{var t={107:(t,e)=>{e.toFormatString=function(t,e){const n=t.getFullYear(),i=t.getMonth()+1,r=t.getDate();return n+"-"+(i<10?"0"+i:i)+"-"+(r<10?"0"+r:r)}},426:(t,e,n)=>{const{Matrix3:i}=n(34),{Vector3:r}=n(230),{Euler:s}=n(611);e.rotatePanoramicPixel=function(t,e,n,s,a){if(a instanceof i==0)throw new Error("Incorrect type of the rotation matrix, use function buildRotationMatrix to get correct instance!");var h=(t-n/2-.5)/n*Math.PI*2,o=-(e-s/2-.5)/s*Math.PI,u=Math.cos(o)*Math.sin(h),l=Math.cos(o)*Math.cos(h),c=Math.sin(o),y=new r(u,l,c);y.applyMatrix3(a);var f=Math.sqrt(y.x*y.x+y.y*y.y);f=Math.max(f,1e-6);var v=Math.sqrt(y.x*y.x+y.y*y.y+y.z*y.z),_=Math.asin(y.z/v),m=Math.asin(y.x/f),x=y.y<0&&m>=0;return x&&(m=Math.PI-m),(x=y.y<0&&m<=0)&&(m=-Math.PI-m),isNaN(m)&&(m=0),[(m+Math.PI)/(2*Math.PI)*n+.5,(-_+Math.PI/2)/Math.PI*s+.5]},e.buildRotationMatrix=function(t=null){const e=new i;if(null===t)return e;if(0==Array.isArray(t)||9!=t.length)throw new Error("buildRotationmatrix expects array of float as an input argument");return e.set(...t),e},e.uvToXyz=function(t,e,n,i=0){var a=(.5-t)*Math.PI*2,h=(.5-e)*Math.PI,o=new s(h,0,a+i,"ZXY"),u=new r(0,1,0);return u.applyEuler(o),u.multiplyScalar(Math.abs(n/u.z)),u},e.xyxToUv=function(t,e,n,i=0){var r;return r=0==t&&0==e||0==t&&1==e?.5:0==t&&-1==e?0:-1==t&&0==e?.25:1==t&&0==e?.75:e>0?.5+Math.atan(t/e)/(2*Math.PI):t>0?.5+(Math.PI+Math.atan(t/e))/(2*Math.PI):.5+(-Math.PI+Math.atan(t/e))/(2*Math.PI),(r+=i/(2*Math.PI))>1?r--:r<0&&r++,[r,.5-Math.atan(n/Math.sqrt(t*t+e*e))/Math.PI]}},611:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Euler=void 0;var i=n(304),r=n(230),s=n(651),a=n(204);function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u=new s.Matrix4,l=new i.Quaternion,c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DefaultOrder;h(this,t),this._x=e,this._y=n,this._z=i,this._order=r}var e,n;return e=t,n=[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}},{key:"set",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=t,this._y=e,this._z=n,this._order=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t.elements,r=i[0],s=i[4],h=i[8],o=i[1],u=i[5],l=i[9],c=i[2],y=i[6],f=i[10];switch(e){case"XYZ":this._y=Math.asin((0,a.clamp)(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-l,f),this._z=Math.atan2(-s,r)):(this._x=Math.atan2(y,u),this._z=0);break;case"YXZ":this._x=Math.asin(-(0,a.clamp)(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(h,f),this._z=Math.atan2(o,u)):(this._y=Math.atan2(-c,r),this._z=0);break;case"ZXY":this._x=Math.asin((0,a.clamp)(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-c,f),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(o,r));break;case"ZYX":this._y=Math.asin(-(0,a.clamp)(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(y,f),this._z=Math.atan2(o,r)):(this._x=0,this._z=Math.atan2(-s,u));break;case"YZX":this._z=Math.asin((0,a.clamp)(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-c,r)):(this._x=0,this._y=Math.atan2(h,f));break;case"XZY":this._z=Math.asin(-(0,a.clamp)(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(y,u),this._y=Math.atan2(h,r)):(this._x=Math.atan2(-l,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(t,e,n){return u.makeRotationFromQuaternion(t),this.setFromRotationMatrix(u,e,n)}},{key:"setFromVector3",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(t.x,t.y,t.z,e)}},{key:"reorder",value:function(t){return l.setFromEuler(this),this.setFromQuaternion(l,t)}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}},{key:"fromArray",value:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}},{key:"toVector3",value:function(t){return t?t.set(this._x,this._y,this._z):new r.Vector3(this._x,this._y,this._z)}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}}],n&&o(e.prototype,n),t}();e.Euler=c,c.prototype.isEuler=!0,c.DefaultOrder="XYZ",c.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"]},204:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUUID=function(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(n[255&t]+n[t>>8&255]+n[t>>16&255]+n[t>>24&255]+"-"+n[255&e]+n[e>>8&255]+"-"+n[e>>16&15|64]+n[e>>24&255]+"-"+n[63&i|128]+n[i>>8&255]+"-"+n[i>>16&255]+n[i>>24&255]+n[255&r]+n[r>>8&255]+n[r>>16&255]+n[r>>24&255]).toUpperCase()},e.clamp=function(t,e,n){return Math.max(e,Math.min(n,t))},e.euclideanModulo=h,e.mapLinear=function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},e.inverseLerp=function(t,e,n){return t!==e?(n-t)/(e-t):0},e.lerp=o,e.damp=function(t,e,n,i){return o(t,e,1-Math.exp(-n*i))},e.pingpong=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e-Math.abs(h(t,2*e)-e)},e.smoothstep=function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},e.smootherstep=function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},e.randInt=function(t,e){return t+Math.floor(Math.random()*(e-t+1))},e.randFloat=function(t,e){return t+Math.random()*(e-t)},e.randFloatSpread=function(t){return t*(.5-Math.random())},e.seededRandom=function(t){return void 0!==t&&(r=t%2147483647),((r=16807*r%2147483647)-1)/2147483646},e.degToRad=function(t){return t*s},e.radToDeg=function(t){return t*a},e.isPowerOfTwo=function(t){return 0==(t&t-1)&&0!==t},e.ceilPowerOfTwo=function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},e.floorPowerOfTwo=function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},e.setQuaternionFromProperEuler=function(t,e,n,i,r){var s=Math.cos,a=Math.sin,h=s(n/2),o=a(n/2),u=s((e+i)/2),l=a((e+i)/2),c=s((e-i)/2),y=a((e-i)/2),f=s((i-e)/2),v=a((i-e)/2);switch(r){case"XYX":t.set(h*l,o*c,o*y,h*u);break;case"YZY":t.set(o*y,h*l,o*c,h*u);break;case"ZXZ":t.set(o*c,o*y,h*l,h*u);break;case"XZX":t.set(h*l,o*v,o*f,h*u);break;case"YXY":t.set(o*f,h*l,o*v,h*u);break;case"ZYZ":t.set(o*v,o*f,h*l,h*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}},e.RAD2DEG=e.DEG2RAD=void 0;for(var n=[],i=0;i<256;i++)n[i]=(i<16?"0":"")+i.toString(16);var r=1234567,s=Math.PI/180;e.DEG2RAD=s;var a=180/Math.PI;function h(t,e){return(t%e+e)%e}function o(t,e,n){return(1-n)*t+n*e}e.RAD2DEG=a},34:(t,e)=>{"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Matrix3=void 0;var r=function(){function t(){n(this,t),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}var e,r;return e=t,r=[{key:"set",value:function(t,e,n,i,r,s,a,h,o){var u=this.elements;return u[0]=t,u[1]=i,u[2]=a,u[3]=e,u[4]=r,u[5]=h,u[6]=n,u[7]=s,u[8]=o,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}},{key:"multiply",value:function(t){return this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var n=t.elements,i=e.elements,r=this.elements,s=n[0],a=n[3],h=n[6],o=n[1],u=n[4],l=n[7],c=n[2],y=n[5],f=n[8],v=i[0],_=i[3],m=i[6],x=i[1],M=i[4],k=i[7],p=i[2],d=i[5],z=i[8];return r[0]=s*v+a*x+h*p,r[3]=s*_+a*M+h*d,r[6]=s*m+a*k+h*z,r[1]=o*v+u*x+l*p,r[4]=o*_+u*M+l*d,r[7]=o*m+u*k+l*z,r[2]=c*v+y*x+f*p,r[5]=c*_+y*M+f*d,r[8]=c*m+y*k+f*z,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],h=t[6],o=t[7],u=t[8];return e*s*u-e*a*o-n*r*u+n*a*h+i*r*o-i*s*h}},{key:"invert",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],h=t[6],o=t[7],u=t[8],l=u*s-a*o,c=a*h-u*r,y=o*r-s*h,f=e*l+n*c+i*y;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);var v=1/f;return t[0]=l*v,t[1]=(i*o-u*n)*v,t[2]=(a*n-i*s)*v,t[3]=c*v,t[4]=(u*e-i*h)*v,t[5]=(i*r-a*e)*v,t[6]=y*v,t[7]=(n*h-o*e)*v,t[8]=(s*e-n*r)*v,this}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}},{key:"getNormalMatrix",value:function(t){return this.setFromMatrix4(t).invert().transpose()}},{key:"transposeIntoArray",value:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}},{key:"setUvTransform",value:function(t,e,n,i,r,s,a){var h=Math.cos(r),o=Math.sin(r);return this.set(n*h,n*o,-n*(h*s+o*a)+s+t,-i*o,i*h,-i*(-o*s+h*a)+a+e,0,0,1),this}},{key:"scale",value:function(t,e){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}},{key:"rotate",value:function(t){var e=Math.cos(t),n=Math.sin(t),i=this.elements,r=i[0],s=i[3],a=i[6],h=i[1],o=i[4],u=i[7];return i[0]=e*r+n*h,i[3]=e*s+n*o,i[6]=e*a+n*u,i[1]=-n*r+e*h,i[4]=-n*s+e*o,i[7]=-n*a+e*u,this}},{key:"translate",value:function(t,e){var n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,i=0;i<9;i++)if(e[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}],r&&i(e.prototype,r),t}();e.Matrix3=r,r.prototype.isMatrix3=!0},651:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Matrix4=void 0;var i=n(230);function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=function(){function t(){r(this,t),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}var e,n;return e=t,n=[{key:"set",value:function(t,e,n,i,r,s,a,h,o,u,l,c,y,f,v,_){var m=this.elements;return m[0]=t,m[4]=e,m[8]=n,m[12]=i,m[1]=r,m[5]=s,m[9]=a,m[13]=h,m[2]=o,m[6]=u,m[10]=l,m[14]=c,m[3]=y,m[7]=f,m[11]=v,m[15]=_,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new t).fromArray(this.elements)}},{key:"copy",value:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}},{key:"copyPosition",value:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}},{key:"setFromMatrix3",value:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(t){var e=this.elements,n=t.elements,i=1/h.setFromMatrixColumn(t,0).length(),r=1/h.setFromMatrixColumn(t,1).length(),s=1/h.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*s,e[9]=n[9]*s,e[10]=n[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromEuler",value:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,i=t.y,r=t.z,s=Math.cos(n),a=Math.sin(n),h=Math.cos(i),o=Math.sin(i),u=Math.cos(r),l=Math.sin(r);if("XYZ"===t.order){var c=s*u,y=s*l,f=a*u,v=a*l;e[0]=h*u,e[4]=-h*l,e[8]=o,e[1]=y+f*o,e[5]=c-v*o,e[9]=-a*h,e[2]=v-c*o,e[6]=f+y*o,e[10]=s*h}else if("YXZ"===t.order){var _=h*u,m=h*l,x=o*u,M=o*l;e[0]=_+M*a,e[4]=x*a-m,e[8]=s*o,e[1]=s*l,e[5]=s*u,e[9]=-a,e[2]=m*a-x,e[6]=M+_*a,e[10]=s*h}else if("ZXY"===t.order){var k=h*u,p=h*l,d=o*u,z=o*l;e[0]=k-z*a,e[4]=-s*l,e[8]=d+p*a,e[1]=p+d*a,e[5]=s*u,e[9]=z-k*a,e[2]=-s*o,e[6]=a,e[10]=s*h}else if("ZYX"===t.order){var g=s*u,b=s*l,w=a*u,C=a*l;e[0]=h*u,e[4]=w*o-b,e[8]=g*o+C,e[1]=h*l,e[5]=C*o+g,e[9]=b*o-w,e[2]=-o,e[6]=a*h,e[10]=s*h}else if("YZX"===t.order){var E=s*h,P=s*o,F=a*h,S=a*o;e[0]=h*u,e[4]=S-E*l,e[8]=F*l+P,e[1]=l,e[5]=s*u,e[9]=-a*u,e[2]=-o*u,e[6]=P*l+F,e[10]=E-S*l}else if("XZY"===t.order){var V=s*h,O=s*o,R=a*h,T=a*o;e[0]=h*u,e[4]=-l,e[8]=o*u,e[1]=V*l+T,e[5]=s*u,e[9]=O*l-R,e[2]=R*l-O,e[6]=a*u,e[10]=T*l+V}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(t){return this.compose(u,t,l)}},{key:"lookAt",value:function(t,e,n){var i=this.elements;return f.subVectors(t,e),0===f.lengthSq()&&(f.z=1),f.normalize(),c.crossVectors(n,f),0===c.lengthSq()&&(1===Math.abs(n.z)?f.x+=1e-4:f.z+=1e-4,f.normalize(),c.crossVectors(n,f)),c.normalize(),y.crossVectors(f,c),i[0]=c.x,i[4]=y.x,i[8]=f.x,i[1]=c.y,i[5]=y.y,i[9]=f.y,i[2]=c.z,i[6]=y.z,i[10]=f.z,this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var n=t.elements,i=e.elements,r=this.elements,s=n[0],a=n[4],h=n[8],o=n[12],u=n[1],l=n[5],c=n[9],y=n[13],f=n[2],v=n[6],_=n[10],m=n[14],x=n[3],M=n[7],k=n[11],p=n[15],d=i[0],z=i[4],g=i[8],b=i[12],w=i[1],C=i[5],E=i[9],P=i[13],F=i[2],S=i[6],V=i[10],O=i[14],R=i[3],T=i[7],X=i[11],Y=i[15];return r[0]=s*d+a*w+h*F+o*R,r[4]=s*z+a*C+h*S+o*T,r[8]=s*g+a*E+h*V+o*X,r[12]=s*b+a*P+h*O+o*Y,r[1]=u*d+l*w+c*F+y*R,r[5]=u*z+l*C+c*S+y*T,r[9]=u*g+l*E+c*V+y*X,r[13]=u*b+l*P+c*O+y*Y,r[2]=f*d+v*w+_*F+m*R,r[6]=f*z+v*C+_*S+m*T,r[10]=f*g+v*E+_*V+m*X,r[14]=f*b+v*P+_*O+m*Y,r[3]=x*d+M*w+k*F+p*R,r[7]=x*z+M*C+k*S+p*T,r[11]=x*g+M*E+k*V+p*X,r[15]=x*b+M*P+k*O+p*Y,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],s=t[1],a=t[5],h=t[9],o=t[13],u=t[2],l=t[6],c=t[10],y=t[14];return t[3]*(+r*h*l-i*o*l-r*a*c+n*o*c+i*a*y-n*h*y)+t[7]*(+e*h*y-e*o*c+r*s*c-i*s*y+i*o*u-r*h*u)+t[11]*(+e*o*l-e*a*y-r*s*l+n*s*y+r*a*u-n*o*u)+t[15]*(-i*a*u-e*h*l+e*a*c+i*s*l-n*s*c+n*h*u)}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}},{key:"setPosition",value:function(t,e,n){var i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this}},{key:"invert",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],h=t[6],o=t[7],u=t[8],l=t[9],c=t[10],y=t[11],f=t[12],v=t[13],_=t[14],m=t[15],x=l*_*o-v*c*o+v*h*y-a*_*y-l*h*m+a*c*m,M=f*c*o-u*_*o-f*h*y+s*_*y+u*h*m-s*c*m,k=u*v*o-f*l*o+f*a*y-s*v*y-u*a*m+s*l*m,p=f*l*h-u*v*h-f*a*c+s*v*c+u*a*_-s*l*_,d=e*x+n*M+i*k+r*p;if(0===d)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var z=1/d;return t[0]=x*z,t[1]=(v*c*r-l*_*r-v*i*y+n*_*y+l*i*m-n*c*m)*z,t[2]=(a*_*r-v*h*r+v*i*o-n*_*o-a*i*m+n*h*m)*z,t[3]=(l*h*r-a*c*r-l*i*o+n*c*o+a*i*y-n*h*y)*z,t[4]=M*z,t[5]=(u*_*r-f*c*r+f*i*y-e*_*y-u*i*m+e*c*m)*z,t[6]=(f*h*r-s*_*r-f*i*o+e*_*o+s*i*m-e*h*m)*z,t[7]=(s*c*r-u*h*r+u*i*o-e*c*o-s*i*y+e*h*y)*z,t[8]=k*z,t[9]=(f*l*r-u*v*r-f*n*y+e*v*y+u*n*m-e*l*m)*z,t[10]=(s*v*r-f*a*r+f*n*o-e*v*o-s*n*m+e*a*m)*z,t[11]=(u*a*r-s*l*r-u*n*o+e*l*o+s*n*y-e*a*y)*z,t[12]=p*z,t[13]=(u*v*i-f*l*i+f*n*c-e*v*c-u*n*_+e*l*_)*z,t[14]=(f*a*i-s*v*i-f*n*h+e*v*h+s*n*_-e*a*_)*z,t[15]=(s*l*i-u*a*i+u*n*h-e*l*h-s*n*c+e*a*c)*z,this}},{key:"scale",value:function(t){var e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this}},{key:"getMaxScaleOnAxis",value:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,i))}},{key:"makeTranslation",value:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}},{key:"makeRotationY",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=1-n,s=t.x,a=t.y,h=t.z,o=r*s,u=r*a;return this.set(o*s+n,o*a-i*h,o*h+i*a,0,o*a+i*h,u*a+n,u*h-i*s,0,o*h-i*a,u*h+i*s,r*h*h+n,0,0,0,0,1),this}},{key:"makeScale",value:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(t,e,n,i,r,s){return this.set(1,n,r,0,t,1,s,0,e,i,1,0,0,0,0,1),this}},{key:"compose",value:function(t,e,n){var i=this.elements,r=e._x,s=e._y,a=e._z,h=e._w,o=r+r,u=s+s,l=a+a,c=r*o,y=r*u,f=r*l,v=s*u,_=s*l,m=a*l,x=h*o,M=h*u,k=h*l,p=n.x,d=n.y,z=n.z;return i[0]=(1-(v+m))*p,i[1]=(y+k)*p,i[2]=(f-M)*p,i[3]=0,i[4]=(y-k)*d,i[5]=(1-(c+m))*d,i[6]=(_+x)*d,i[7]=0,i[8]=(f+M)*z,i[9]=(_-x)*z,i[10]=(1-(c+v))*z,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}},{key:"decompose",value:function(t,e,n){var i=this.elements,r=h.set(i[0],i[1],i[2]).length(),s=h.set(i[4],i[5],i[6]).length(),a=h.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],o.copy(this);var u=1/r,l=1/s,c=1/a;return o.elements[0]*=u,o.elements[1]*=u,o.elements[2]*=u,o.elements[4]*=l,o.elements[5]*=l,o.elements[6]*=l,o.elements[8]*=c,o.elements[9]*=c,o.elements[10]*=c,e.setFromRotationMatrix(o),n.x=r,n.y=s,n.z=a,this}},{key:"makePerspective",value:function(t,e,n,i,r,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,h=2*r/(e-t),o=2*r/(n-i),u=(e+t)/(e-t),l=(n+i)/(n-i),c=-(s+r)/(s-r),y=-2*s*r/(s-r);return a[0]=h,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=o,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=c,a[14]=y,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}},{key:"makeOrthographic",value:function(t,e,n,i,r,s){var a=this.elements,h=1/(e-t),o=1/(n-i),u=1/(s-r),l=(e+t)*h,c=(n+i)*o,y=(s+r)*u;return a[0]=2*h,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2*o,a[9]=0,a[13]=-c,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-y,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,i=0;i<16;i++)if(e[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}],n&&s(e.prototype,n),t}();e.Matrix4=a,a.prototype.isMatrix4=!0;var h=new i.Vector3,o=new a,u=new i.Vector3(0,0,0),l=new i.Vector3(1,1,1),c=new i.Vector3,y=new i.Vector3,f=new i.Vector3},304:(t,e,n)=>{"use strict";function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Quaternion=void 0;var r=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var n=s(e);if(n&&n.has(t))return n.get(t);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in t)if("default"!==h&&Object.prototype.hasOwnProperty.call(t,h)){var o=a?Object.getOwnPropertyDescriptor(t,h):null;o&&(o.get||o.set)?Object.defineProperty(r,h,o):r[h]=t[h]}return r.default=t,n&&n.set(t,r),r}(n(204));function s(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(s=function(t){return t?n:e})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;a(this,t),this._x=e,this._y=n,this._z=i,this._w=r}var e,n,i;return e=t,n=[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}},{key:"set",value:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,i=t._y,r=t._z,s=t._order,a=Math.cos,h=Math.sin,o=a(n/2),u=a(i/2),l=a(r/2),c=h(n/2),y=h(i/2),f=h(r/2);switch(s){case"XYZ":this._x=c*u*l+o*y*f,this._y=o*y*l-c*u*f,this._z=o*u*f+c*y*l,this._w=o*u*l-c*y*f;break;case"YXZ":this._x=c*u*l+o*y*f,this._y=o*y*l-c*u*f,this._z=o*u*f-c*y*l,this._w=o*u*l+c*y*f;break;case"ZXY":this._x=c*u*l-o*y*f,this._y=o*y*l+c*u*f,this._z=o*u*f+c*y*l,this._w=o*u*l-c*y*f;break;case"ZYX":this._x=c*u*l-o*y*f,this._y=o*y*l+c*u*f,this._z=o*u*f-c*y*l,this._w=o*u*l+c*y*f;break;case"YZX":this._x=c*u*l+o*y*f,this._y=o*y*l+c*u*f,this._z=o*u*f-c*y*l,this._w=o*u*l-c*y*f;break;case"XZY":this._x=c*u*l-o*y*f,this._y=o*y*l-c*u*f,this._z=o*u*f+c*y*l,this._w=o*u*l+c*y*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!1!==e&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(t,e){var n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var e=t.elements,n=e[0],i=e[4],r=e[8],s=e[1],a=e[5],h=e[9],o=e[2],u=e[6],l=e[10],c=n+a+l;if(c>0){var y=.5/Math.sqrt(c+1);this._w=.25/y,this._x=(u-h)*y,this._y=(r-o)*y,this._z=(s-i)*y}else if(n>a&&n>l){var f=2*Math.sqrt(1+n-a-l);this._w=(u-h)/f,this._x=.25*f,this._y=(i+s)/f,this._z=(r+o)/f}else if(a>l){var v=2*Math.sqrt(1+a-n-l);this._w=(r-o)/v,this._x=(i+s)/v,this._y=.25*v,this._z=(h+u)/v}else{var _=2*Math.sqrt(1+l-n-a);this._w=(s-i)/_,this._x=(r+o)/_,this._y=(h+u)/_,this._z=.25*_}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(t,e){var n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(t){return 2*Math.acos(Math.abs(r.clamp(this.dot(t),-1,1)))}},{key:"rotateTowards",value:function(t,e){var n=this.angleTo(t);if(0===n)return this;var i=Math.min(1,e/n);return this.slerp(t,i),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}},{key:"premultiply",value:function(t){return this.multiplyQuaternions(t,this)}},{key:"multiplyQuaternions",value:function(t,e){var n=t._x,i=t._y,r=t._z,s=t._w,a=e._x,h=e._y,o=e._z,u=e._w;return this._x=n*u+s*a+i*o-r*h,this._y=i*u+s*h+r*a-n*o,this._z=r*u+s*o+n*h-i*a,this._w=s*u-n*a-i*h-r*o,this._onChangeCallback(),this}},{key:"slerp",value:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,i=this._y,r=this._z,s=this._w,a=s*t._w+n*t._x+i*t._y+r*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=s,this._x=n,this._y=i,this._z=r,this;var h=1-a*a;if(h<=Number.EPSILON){var o=1-e;return this._w=o*s+e*this._w,this._x=o*n+e*this._x,this._y=o*i+e*this._y,this._z=o*r+e*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(h),l=Math.atan2(u,a),c=Math.sin((1-e)*l)/u,y=Math.sin(e*l)/u;return this._w=s*c+this._w*y,this._x=n*c+this._x*y,this._y=i*c+this._y*y,this._z=r*c+this._z*y,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(t,e,n){this.copy(t).slerp(e,n)}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}},{key:"fromBufferAttribute",value:function(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}}],i=[{key:"slerp",value:function(t,e,n,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(t,e,i)}},{key:"slerpFlat",value:function(t,e,n,i,r,s,a){var h=n[i+0],o=n[i+1],u=n[i+2],l=n[i+3],c=r[s+0],y=r[s+1],f=r[s+2],v=r[s+3];if(0===a)return t[e+0]=h,t[e+1]=o,t[e+2]=u,void(t[e+3]=l);if(1===a)return t[e+0]=c,t[e+1]=y,t[e+2]=f,void(t[e+3]=v);if(l!==v||h!==c||o!==y||u!==f){var _=1-a,m=h*c+o*y+u*f+l*v,x=m>=0?1:-1,M=1-m*m;if(M>Number.EPSILON){var k=Math.sqrt(M),p=Math.atan2(k,m*x);_=Math.sin(_*p)/k,a=Math.sin(a*p)/k}var d=a*x;if(h=h*_+c*d,o=o*_+y*d,u=u*_+f*d,l=l*_+v*d,_===1-a){var z=1/Math.sqrt(h*h+o*o+u*u+l*l);h*=z,o*=z,u*=z,l*=z}}t[e]=h,t[e+1]=o,t[e+2]=u,t[e+3]=l}},{key:"multiplyQuaternionsFlat",value:function(t,e,n,i,r,s){var a=n[i],h=n[i+1],o=n[i+2],u=n[i+3],l=r[s],c=r[s+1],y=r[s+2],f=r[s+3];return t[e]=a*f+u*l+h*y-o*c,t[e+1]=h*f+u*c+o*l-a*y,t[e+2]=o*f+u*y+a*c-h*l,t[e+3]=u*f-a*l-h*c-o*y,t}}],n&&h(e.prototype,n),i&&h(e,i),t}();e.Quaternion=o,o.prototype.isQuaternion=!0},230:(t,e,n)=>{"use strict";function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Vector3=void 0;var r=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in t)if("default"!==h&&Object.prototype.hasOwnProperty.call(t,h)){var o=s?Object.getOwnPropertyDescriptor(t,h):null;o&&(o.get||o.set)?Object.defineProperty(r,h,o):r[h]=t[h]}return r.default=t,n&&n.set(t,r),r}(n(204)),s=n(304);function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;h(this,t),this.x=e,this.y=n,this.z=i}var e,n;return e=t,n=[{key:"set",value:function(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"multiplyVectors",value:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}},{key:"applyEuler",value:function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(c.setFromEuler(t))}},{key:"applyAxisAngle",value:function(t,e){return this.applyQuaternion(c.setFromAxisAngle(t,e))}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this}},{key:"applyNormalMatrix",value:function(t){return this.applyMatrix3(t).normalize()}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements,s=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*s,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*s,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*s,this}},{key:"applyQuaternion",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.x,s=t.y,a=t.z,h=t.w,o=h*e+s*i-a*n,u=h*n+a*e-r*i,l=h*i+r*n-s*e,c=-r*e-s*n-a*i;return this.x=o*h+c*-r+u*-a-l*-s,this.y=u*h+c*-s+l*-r-o*-a,this.z=l*h+c*-a+o*-s-u*-r,this}},{key:"project",value:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}},{key:"unproject",value:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}},{key:"transformDirection",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}},{key:"cross",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}},{key:"crossVectors",value:function(t,e){var n=t.x,i=t.y,r=t.z,s=e.x,a=e.y,h=e.z;return this.x=i*h-r*a,this.y=r*s-n*h,this.z=n*a-i*s,this}},{key:"projectOnVector",value:function(t){var e=t.lengthSq();if(0===e)return this.set(0,0,0);var n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}},{key:"projectOnPlane",value:function(t){return l.copy(this).projectOnVector(t),this.sub(l)}},{key:"reflect",value:function(t){return this.sub(l.copy(t).multiplyScalar(2*this.dot(t)))}},{key:"angleTo",value:function(t){var e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;var n=this.dot(t)/e;return Math.acos(r.clamp(n,-1,1))}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}},{key:"setFromSpherical",value:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}},{key:"setFromSphericalCoords",value:function(t,e,n){var i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this}},{key:"setFromCylindrical",value:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}},{key:"setFromCylindricalCoords",value:function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}},{key:"setFromMatrixPosition",value:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}},{key:"setFromMatrixScale",value:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this}},{key:"setFromMatrixColumn",value:function(t,e){return this.fromArray(t.elements,4*e)}},{key:"setFromMatrix3Column",value:function(t,e){return this.fromArray(t.elements,3*e)}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}},{key:"fromBufferAttribute",value:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}],n&&o(e.prototype,n),t}();e.Vector3=u,u.prototype.isVector3=!0;var l=new u,c=new s.Quaternion}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,n),s.exports}var i={};(()=>{var t=i;const e=n(107),r=n(426);t.PANO=r,t.DATE=e})(),PSULIB=i})();